<div class="payment-result-container">
  <div class="result-card" [class.loading]="isLoading">
    
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading-state">
      <div class="spinner"></div>
      <h2>ƒêang x·ª≠ l√Ω giao d·ªãch...</h2>
      <p>Vui l√≤ng ch·ªù trong gi√¢y l√°t</p>
    </div>

    <!-- Result State -->
    <div *ngIf="!isLoading" class="result-content">
      
      <!-- Success State -->
      <div *ngIf="paymentStatus === 'success'" class="success-state">
        <div class="status-icon success">
          <i class="icon-check">‚úì</i>
        </div>
        <h2 class="status-title">Thanh To√°n Th√†nh C√¥ng</h2>
        <p class="status-message">{{ message }}</p>
        
        <div class="transaction-details">
          <h3>Th√¥ng tin giao d·ªãch</h3>
          <div class="detail-row">
            <span class="detail-label">M√£ giao d·ªãch:</span>
            <span class="detail-value">{{ transactionId }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">S·ªë ti·ªÅn:</span>
            <span class="detail-value">{{ formatAmount(amount) }} VND</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">N·ªôi dung:</span>
            <span class="detail-value">{{ orderInfo }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Tr·∫°ng th√°i:</span>
            <span class="detail-value status-badge success">Th√†nh c√¥ng</span>
          </div>
        </div>

        <div class="action-buttons">
          <button class="btn-primary" (click)="backToHome()">
            V·ªÅ trang ch·ªß
          </button>
          <button class="btn-secondary" (click)="printReceipt()">
            In h√≥a ƒë∆°n
          </button>
        </div>
      </div>

      <!-- Failed State -->
      <div *ngIf="paymentStatus === 'failed'" class="failed-state">
        <div class="status-icon failed">
          <i class="icon-cross">‚úï</i>
        </div>
        <h2 class="status-title">Thanh To√°n Th·∫•t B·∫°i</h2>
        <p class="status-message">{{ message }}</p>
        
        <div class="transaction-details">
          <div class="detail-row">
            <span class="detail-label">L√Ω do:</span>
            <span class="detail-value">Giao d·ªãch kh√¥ng th√†nh c√¥ng</span>
          </div>
          <div class="detail-row" *ngIf="transactionId">
            <span class="detail-label">M√£ l·ªói:</span>
            <span class="detail-value">{{ transactionId }}</span>
          </div>
        </div>

        <div class="action-buttons">
          <button class="btn-primary" (click)="tryAgain()">
            Th·ª≠ l·∫°i
          </button>
          <button class="btn-secondary" (click)="backToHome()">
            V·ªÅ trang ch·ªß
          </button>
        </div>
      </div>

      <!-- Error State -->
      <div *ngIf="paymentStatus === 'error'" class="error-state">
        <div class="status-icon error">
          <i class="icon-warning">‚ö†</i>
        </div>
        <h2 class="status-title">L·ªói H·ªá Th·ªëng</h2>
        <p class="status-message">{{ message }}</p>
        
        <div class="action-buttons">
          <button class="btn-primary" (click)="tryAgain()">
            Th·ª≠ l·∫°i
          </button>
          <button class="btn-secondary" (click)="backToHome()">
            V·ªÅ trang ch·ªß
          </button>
        </div>
      </div>

      <!-- Invalid Signature State -->
      <div *ngIf="paymentStatus === 'invalid_signature'" class="error-state">
        <div class="status-icon error">
          <i class="icon-shield">üõ°Ô∏è</i>
        </div>
        <h2 class="status-title">L·ªói B·∫£o M·∫≠t</h2>
        <p class="status-message">{{ message }}</p>
        
        <div class="security-warning">
          <p>Giao d·ªãch kh√¥ng th·ªÉ x√°c th·ª±c. Vui l√≤ng li√™n h·ªá b·ªô ph·∫≠n h·ªó tr·ª£.</p>
        </div>

        <div class="action-buttons">
          <button class="btn-primary" (click)="backToHome()">
            V·ªÅ trang ch·ªß
          </button>
        </div>
      </div>

    </div>
  </div>
</div>